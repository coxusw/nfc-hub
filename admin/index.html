<!doctype html>
<!-- =========================================================
  ADMIN PANEL (Foundation) — Copy/Paste Generator
  =========================================================

  ✅ EDIT THESE (each client)
  --------------------------
  Fill out the form and click “Generate”.
  Then save:
    1) JSON → /data/clients/{slug}.json
    2) vCard → /vcards/{slug}.vcf

  ✅ NEXT STEP (automation)
  ------------------------
  We'll add a tiny local server so you can:
    - Click "Create client"
    - It writes the files
    - Commits + pushes to GitHub
    - Client is live

========================================================= -->
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>NFC Admin</title>
  <link rel="stylesheet" href="../themes/theme-05-minimal-light.css"/>
</head>
<body>
  <main class="wrap">
    <section class="card">
      <h1 class="brand" style="background:none;color:var(--text-main);-webkit-text-fill-color:initial;">NFC Admin (Foundation)</h1>
      <p class="tagline">Generate client JSON + vCard (then copy/paste into the repo).</p>

      <section class="section">
        <h2>Basics</h2>
        <div class="contact-grid">
          <div class="contact-item"><div class="label">Slug (subdomain)</div><div class="value"><input id="slug" placeholder="sam" style="width:100%;padding:10px;border-radius:10px;border:1px solid var(--border);"/></div></div>
          <div class="contact-item"><div class="label">Business name</div><div class="value"><input id="businessName" placeholder="Sam Custom Apparel" style="width:100%;padding:10px;border-radius:10px;border:1px solid var(--border);"/></div></div>
          <div class="contact-item"><div class="label">Tagline</div><div class="value"><input id="tagline" placeholder="Hand Crafted Greatness" style="width:100%;padding:10px;border-radius:10px;border:1px solid var(--border);"/></div></div>
          <div class="contact-item"><div class="label">About</div><div class="value"><textarea id="about" rows="3" placeholder="1–3 sentences…" style="width:100%;padding:10px;border-radius:10px;border:1px solid var(--border);"></textarea></div></div>
        </div>
      </section>

      <section class="section">
        <h2>Links</h2>
        <div class="contact-grid">
          <div class="contact-item"><div class="label">Website</div><div class="value"><input id="website" placeholder="https://…" style="width:100%;padding:10px;border-radius:10px;border:1px solid var(--border);"/></div></div>
          <div class="contact-item"><div class="label">Facebook</div><div class="value"><input id="facebook" placeholder="https://…" style="width:100%;padding:10px;border-radius:10px;border:1px solid var(--border);"/></div></div>
          <div class="contact-item"><div class="label">TikTok</div><div class="value"><input id="tiktok" placeholder="https://…" style="width:100%;padding:10px;border-radius:10px;border:1px solid var(--border);"/></div></div>
        </div>
      </section>

      <section class="section">
        <h2>Contact</h2>
        <div class="contact-grid">
          <div class="contact-item"><div class="label">Name</div><div class="value"><input id="name" placeholder="Samantha" style="width:100%;padding:10px;border-radius:10px;border:1px solid var(--border);"/></div></div>
          <div class="contact-item"><div class="label">Phone (E.164)</div><div class="value"><input id="phoneE164" placeholder="+18309550069" style="width:100%;padding:10px;border-radius:10px;border:1px solid var(--border);"/></div></div>
          <div class="contact-item"><div class="label">Phone (display)</div><div class="value"><input id="phoneDisplay" placeholder="(830) 955-0069" style="width:100%;padding:10px;border-radius:10px;border:1px solid var(--border);"/></div></div>
          <div class="contact-item"><div class="label">Email</div><div class="value"><input id="email" placeholder="you@domain.com" style="width:100%;padding:10px;border-radius:10px;border:1px solid var(--border);"/></div></div>
        </div>
      </section>

      <section class="section">
        <h2>Theme + assets</h2>
        <div class="contact-grid">
          <div class="contact-item">
            <div class="label">Theme file (in /themes)</div>
            <div class="value">
              <select id="theme" style="width:100%;padding:10px;border-radius:10px;border:1px solid var(--border);">
                <option selected>theme-01-neon-dark.css</option>
                <option>theme-02-earthy.css</option>
                <option>theme-03-pastel-light.css</option>
                <option>theme-04-minimal-dark.css</option>
                <option>theme-05-minimal-light.css</option>
                <option>theme-06-luxury-gold.css</option>
                <option>theme-07-sunset.css</option>
                <option>theme-08-ocean.css</option>
                <option>theme-09-forest.css</option>
                <option>theme-10-candy.css</option>
                <option>theme-11-royal.css</option>
                <option>theme-12-coral.css</option>
                <option>theme-13-lavender.css</option>
                <option>theme-14-citrus.css</option>
                <option>theme-15-slate-blue.css</option>
                <option>theme-16-retro.css</option>
                <option>theme-17-cyberpunk.css</option>
                <option>theme-18-desert.css</option>
                <option>theme-19-midnight-red.css</option>
                <option>theme-20-paper-ink.css</option>
              </select>
            </div>
          </div>

          <div class="contact-item">
            <div class="label">Logo path (in repo)</div>
            <div class="value">
              <input id="logoPath" value="/logo.jpg" style="width:100%;padding:10px;border-radius:10px;border:1px solid var(--border);"/>
              <div class="label" style="margin-top:8px;">Tip: store client logos in /assets/logos/{slug}.jpg</div>
            </div>
          </div>
        </div>
      </section>

      <nav class="links" aria-label="Admin actions">
        <a class="btn" href="#" id="btnBuild">Generate</a>
      </nav>

      <section class="section">
        <h2>Output: client JSON</h2>
        <p class="tagline">Save as: <code>/data/clients/{slug}.json</code></p>
        <textarea id="outJson" rows="12" style="width:100%;padding:12px;border-radius:12px;border:1px solid var(--border);font-family:ui-monospace, SFMono-Regular, Menlo, monospace;"></textarea>
      </section>

      <section class="section">
        <h2>Output: vCard</h2>
        <p class="tagline">Save as: <code>/vcards/{slug}.vcf</code></p>
        <textarea id="outVcf" rows="10" style="width:100%;padding:12px;border-radius:12px;border:1px solid var(--border);font-family:ui-monospace, SFMono-Regular, Menlo, monospace;"></textarea>
      </section>

      <footer class="footer">
        <span>After commit & push, the client is live in seconds.</span>
      </footer>
    </section>
  </main>

  <script>
    const $ = (id) => document.getElementById(id);

    function safeSlug(s){
      return (s || "")
        .trim()
        .toLowerCase()
        .replace(/[^a-z0-9-]/g, "-")
        .replace(/-+/g, "-")
        .replace(/^-|-$/g, "");
    }

    function build(){
      const slug = safeSlug($("slug").value);
      if(!slug){
        alert("Please enter a slug (subdomain), e.g., sam");
        return;
      }

      const businessName = $("businessName").value.trim();
      const tagline = $("tagline").value.trim();
      const about = $("about").value.trim();

      const website = $("website").value.trim();
      const facebook = $("facebook").value.trim();
      const tiktok = $("tiktok").value.trim();

      const name = $("name").value.trim();
      const phoneE164 = $("phoneE164").value.trim();
      const phoneDisplay = $("phoneDisplay").value.trim();
      const email = $("email").value.trim();

      const theme = $("theme").value.trim();
      const logoPath = $("logoPath").value.trim() || "/logo.jpg";

      const client = {
        slug,
        businessName,
        tagline,
        about,
        links: { website, facebook, tiktok },
        contact: { name, phoneE164, phoneDisplay, email },
        theme,
        logoPath,
        vcardPath: `/vcards/${slug}.vcf`
      };

      $("outJson").value = JSON.stringify(client, null, 2);

      $("outVcf").value =
`BEGIN:VCARD
VERSION:3.0
N:Last;${name || "First"};;;
FN:${name || "First Last"}
ORG:${businessName || "Business Name"}
TITLE:Owner
TEL;TYPE=CELL:${phoneE164 || "+11234567890"}
EMAIL:${email || "you@domain.com"}
URL:${website || "https://example.com"}
NOTE:${tagline || ""}
END:VCARD`;
    }

    $("btnBuild").addEventListener("click", (e) => {
      e.preventDefault();
      build();
    });
  </script>
</body>
</html>

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tap-Deck Preview</title>

  <!-- Same base layout as real profile -->
  <link rel="stylesheet" href="/base.css?v=1" />
  <link id="themeStylesheet" rel="stylesheet" href="/themes/theme-01-neon-dark.css" />
</head>

<body>
  <main class="wrap embed">
    <section class="card">

      <header class="header">
        <img id="logoImg" class="logo" alt="Logo" />
        <h1 class="brand" id="brand"></h1>
        <p class="tagline" id="tagline"></p>
      </header>

      <nav class="links" id="linksWrap">
        <a class="btn" id="btnWebsite" target="_blank">Website</a>
        <a class="btn" id="btnFacebook" target="_blank">Facebook</a>
        <a class="btn" id="btnInstagram" target="_blank">Instagram</a>
        <a class="btn" id="btnTikTok" target="_blank">TikTok</a>
        <a class="btn" id="btnVcard" download>Save Contact</a>
      </nav>

      <hr class="sep" />

      <section id="aboutSection">
        <div class="section-title">About</div>
        <div id="about" class="about-text"></div>
      </section>

      <hr class="sep" />

      <!-- Action buttons section -->
      <section id="quickActions" class="quick-actions">
        <a class="qa-btn" id="qaCall">Call</a>
        <a class="qa-btn" id="qaText">Text</a>
        <a class="qa-btn" id="qaEmail">Email</a>
      </section>

      <hr class="sep" />

      <section id="contactSection">
        <div class="section-title">Contact Info</div>

        <div class="contact-stack">
          <div class="ci">
            <div class="ci-label">Name</div>
            <div class="ci-value" id="contactName"></div>
          </div>

          <div class="ci">
            <div class="ci-label">Phone</div>
            <a class="ci-value" id="contactPhone"></a>
          </div>

          <div class="ci">
            <div class="ci-label">Email</div>
            <a class="ci-value" id="contactEmail"></a>
          </div>
        </div>
      </section>

    </section>
  </main>

<script>
const $ = (id)=>document.getElementById(id);
const params = new URLSearchParams(location.search);

function get(name){ return params.get(name) || ""; }

function setTheme(){
  const theme = get("theme") || "theme-01-neon-dark.css";
  $("themeStylesheet").href = "/themes/" + theme;
}

function setBtn(id,url){
  const el = $(id);
  if(!url){ el.style.display="none"; return; }
  el.href = url;
}

function init(){
  setTheme();

  $("brand").textContent = get("businessName");
  $("tagline").textContent = get("tagline");
  $("about").textContent = get("about");

  const logo = get("logo");
  if(logo) $("logoImg").src = logo;

  setBtn("btnWebsite", get("website"));
  setBtn("btnFacebook", get("facebook"));
  setBtn("btnInstagram", get("instagram"));
  setBtn("btnTikTok", get("tiktok"));

  $("contactName").textContent = get("name");

  const phone = get("phone");
  if(phone){
    $("contactPhone").textContent = phone;
    $("contactPhone").href = "tel:"+phone;
    $("qaCall").href = "tel:"+phone;
    $("qaText").href = "sms:"+phone;
  }

  const email = get("email");
  if(email){
    $("contactEmail").textContent = email;
    $("contactEmail").href = "mailto:"+email;
    $("qaEmail").href = "mailto:"+email;
  }
}

init();
</script>
</body>
</html>